<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>higher order function</title>
</head>

<body>
<h3>Daftar Video</h3>
<ul>
  <li data-duration="15:27">tehnik pomodoro</li>
  <li data-duration="11:18">javascript lanjutan</li>
  <li data-duration="21:40">javascript lanjutan</li>
  <li data-duration="19:38">website penipu</li>
  <li data-duration="22:10">javascript lanjutan</li>
  <li data-duration="20:43">javascript lanjutan</li>
  <li data-duration="26:38">tanya pak dhika</li>
  <li data-duration="14:30">javascript lanjutan</li>
  <li data-duration="17:33">javascript lanjutan</li>
  <li data-duration="10:39">javascript lanjutan</li>
  <li data-duration="17:31">javascript lanjutan</li>
  <li data-duration="14:25">5 tips bertanya ketika error</li>
</ul>

<h3>My playList</h3>
<ol>
  <li>
  <h4>Javascript Lanjutan</h4>
  <p>Jumlah Video: <span class="jumlah-video"></span></p>
  <p>Total Durasi: <span class="total-durasi"></span></p>
  </li>
</ol>

<script>
  //1.ambil semua elemen video
const videos = Array.from(document.querySelectorAll('[data-duration]'));
 
  //2.pilih yg hanya javascript lanjutan
let jsLanjutan = videos.filter(el => el.innerHTML.includes('javascript lanjutan'))

  //3.ambil durasi masing" video
.map(item => item.dataset.duration)

  //4.ubah durasi jd float, ubah menit jd detik
.map(waktu => {
  //10:30 -> [10,30] ,kita split
  const parts = waktu.split(':').map(part => parseFloat(part));
  return (parts[0] * 60) + parts[1];
})

  //5.jumlahkan semua detik
.reduce((total, detik) => total + detik);

  //6.ubah formatnya jd jam,menit,detik
const jam = Math.floor(jsLanjutan / 3600);
jsLanjutan = jsLanjutan - jam * 3600;
const menit = Math.floor(jsLanjutan / 60);
const detik = jsLanjutan - menit * 60;
  
  //7.simpan di DOM
const jmlVideo = videos.filter(el => el.innerHTML.includes('javascript lanjutan')).length;
const pVideo = document.querySelector('.jumlah-video');
pVideo.innerHTML = `${jmlVideo} Video.`;

const pDurasi = document.querySelector('.total-durasi');
pDurasi.innerHTML=`${jam} Jam, ${menit} Menit, ${detik} Detik.`;

 console.log(jmlVideo); 
console.log(jsLanjutan);
//dataset = utk mengambil data
//Math.floor() = utk pembulatan ke bawah
</script>
</body>

</html>
